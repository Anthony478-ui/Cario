<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Health Games Hub - Cairo Family Hospital</title>
    <!-- Include your existing CSS files -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&family=Playfair+Display:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />

    <style>
      /* Game Hub Specific Styles */
      .game-hero {
        background: linear-gradient(135deg, #800075 0%, #a03399 100%);
        color: white;
        padding: 80px 0;
        text-align: center;
      }

      .games-grid {
        padding: 50px 0;
      }

      .game-card {
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: all 0.3s ease;
        height: 100%;
        border: 3px solid transparent;
      }

      .game-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(128, 0, 117, 0.2);
        border-color: #800075;
      }

      .game-card-image {
        height: 200px;
        background: linear-gradient(135deg, #800075 0%, #a03399 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 4rem;
        color: white;
      }

      .game-card-content {
        padding: 25px;
      }

      .game-card h3 {
        color: #800075;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .game-card p {
        color: #666;
        margin-bottom: 20px;
        font-size: 0.95rem;
      }

      .play-btn {
        background: linear-gradient(135deg, #800075 0%, #a03399 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
        width: 100%;
      }

      .play-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(128, 0, 117, 0.4);
      }

      .game-features {
        background: #f9f4f8;
        padding: 60px 0;
      }

      .feature-item {
        text-align: center;
        padding: 20px;
      }

      .feature-icon {
        font-size: 3rem;
        color: #800075;
        margin-bottom: 20px;
      }

      /* Individual Game Containers */
      .game-container {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin: 30px auto;
        max-width: 1000px;
        display: none;
      }

      .game-container.active {
        display: block;
      }

      .game-header {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        padding: 30px;
        text-align: center;
        position: relative;
      }

      .back-to-hub {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: white;
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .back-to-hub:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .game-header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      /* Common Game Styles */
      .stats-bar {
        display: flex;
        justify-content: space-around;
        background: #f8f9fa;
        padding: 20px;
        border-bottom: 1px solid #eee;
      }

      .stat {
        text-align: center;
        flex: 1;
      }

      .stat-value {
        font-size: 1.8em;
        font-weight: bold;
        color: #800075;
      }

      .stat-label {
        font-size: 0.9em;
        color: #666;
        margin-top: 5px;
      }

      .game-screen {
        padding: 30px;
        min-height: 400px;
        display: none;
      }

      .game-screen.active {
        display: block;
      }

      .menu-screen {
        text-align: center;
      }

      .menu-buttons {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .menu-btn,
      .game-btn {
        padding: 15px 25px;
        border: none;
        border-radius: 10px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .menu-btn {
        background: linear-gradient(135deg, #800075 0%, #a03399 100%);
        color: white;
      }

      .menu-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      }

      .game-btn {
        background: #800075;
        color: white;
        margin: 10px;
      }

      .game-btn:hover {
        background: #6a006a;
      }

      .game-area {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 30px;
        margin: 20px 0;
        min-height: 300px;
        position: relative;
      }

      .quiz-options {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin: 20px 0;
      }

      .quiz-option {
        padding: 15px;
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .quiz-option:hover {
        border-color: #800075;
        background: #f9f4f8;
      }

      .achievement {
        background: linear-gradient(135deg, #ffd700, #ffed4e);
        padding: 15px;
        border-radius: 10px;
        margin: 10px 0;
        text-align: center;
        color: #333;
        font-weight: bold;
        animation: achievement-popup 2s ease;
      }

      /* Nutrition Adventure Specific Styles */
      .food-items-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        padding: 20px;
      }

      .food-item {
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 15px;
        text-align: center;
        cursor: grab;
        transition: all 0.3s ease;
        font-size: 2rem;
      }

      .food-item:hover {
        transform: scale(1.1);
        border-color: #800075;
      }

      .food-item.dragging {
        opacity: 0.5;
      }

      .food-groups-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .food-group {
        background: white;
        border: 2px dashed #800075;
        border-radius: 10px;
        padding: 15px;
        text-align: center;
      }

      .drop-zone {
        min-height: 60px;
        border: 2px dashed #ccc;
        border-radius: 5px;
        margin-top: 10px;
        padding: 10px;
      }

      .drop-zone.highlight {
        border-color: #800075;
        background: #f9f4f8;
      }

      .food-selection {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        max-height: 400px;
        overflow-y: auto;
      }

      .selectable-food {
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 10px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .selectable-food:hover {
        border-color: #800075;
        transform: translateY(-2px);
      }

      .selectable-food.selected {
        background: #800075;
        color: white;
      }

      .meal-plate {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 20px;
        border: 3px solid #800075;
      }

      .plate-section {
        margin-bottom: 15px;
        padding: 10px;
        border-radius: 8px;
        background: white;
      }

      .selected-foods {
        min-height: 40px;
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        padding: 5px;
      }

      .selected-food {
        background: #800075;
        color: white;
        padding: 5px 10px;
        border-radius: 15px;
        font-size: 0.8rem;
      }

      .food-pyramid {
        width: 300px;
        margin: 0 auto;
        text-align: center;
      }

      .pyramid-level {
        padding: 15px;
        margin: 2px 0;
        color: white;
        font-weight: bold;
      }

      .pyramid-drop {
        min-height: 40px;
        border: 2px dashed rgba(255, 255, 255, 0.5);
        margin-top: 5px;
        padding: 5px;
      }

      .pyramid-foods {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 10px;
        margin-top: 20px;
        padding: 20px;
      }

      .pyramid-food {
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 10px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1.5rem;
      }

      .pyramid-food:hover {
        transform: scale(1.1);
        border-color: #800075;
      }

      .correct-match {
        background: #4caf50 !important;
        color: white;
      }

      .incorrect-match {
        background: #f44336 !important;
        color: white;
      }

      /* First Aid Hero Styles */
      .scenario-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }

      .scenario-image {
        font-size: 4rem;
        margin: 20px 0;
      }

      .response-options {
        display: grid;
        grid-template-columns: 1fr;
        gap: 10px;
      }

      .response-option {
        background: white;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: left;
      }

      .response-option:hover {
        border-color: #800075;
        background: #f9f4f8;
      }

      .response-option.correct {
        background: #4caf50;
        color: white;
        border-color: #4caf50;
      }

      .response-option.incorrect {
        background: #f44336;
        color: white;
        border-color: #f44336;
      }

      .cpr-dummy {
        margin: 0 auto;
        width: 200px;
      }

      .dummy-torso {
        background: #8d6e63;
        height: 150px;
        border-radius: 20px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .compression-spot {
        width: 60px;
        height: 60px;
        background: #d32f2f;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.1s ease;
      }

      .compression-spot:active {
        transform: scale(0.9);
        background: #b71c1c;
      }

      .beat-indicator {
        font-size: 2rem;
        animation: beat 1s infinite;
      }

      @keyframes beat {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      /* Hygiene Defender Styles */
      .germ {
        position: absolute;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        cursor: pointer;
        transition: all 0.3s ease;
        animation: float 3s ease-in-out infinite;
      }

      .germ.virus {
        background: #f44336;
      }
      .gem.bacteria {
        background: #ff9800;
      }
      .germ.fungus {
        background: #9c27b0;
      }

      .player-character {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 3rem;
        z-index: 10;
      }

      .soap-bubble {
        position: absolute;
        background: #4fc3f7;
        border-radius: 50%;
        animation: floatUp 2s ease-in forwards;
      }

      @keyframes floatUp {
        0% {
          transform: translateY(0);
          opacity: 1;
        }
        100% {
          transform: translateY(-100px);
          opacity: 0;
        }
      }

      /* Fitness Challenge Styles */
      .exercise-card {
        background: white;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .exercise-animation {
        font-size: 4rem;
        text-align: center;
        margin: 20px 0;
        animation: bounce 2s infinite;
      }

      /* Dental Hero Specific Styles */
      .tooth-display {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
        margin: 30px 0;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
      }

      .tooth {
        width: 60px;
        height: 80px;
        background: #ffffff;
        border: 3px solid #e0e0e0;
        border-radius: 15px 15px 25px 25px;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
      }

      .tooth.healthy {
        background: #e8f5e8;
        border-color: #4caf50;
        color: #4caf50;
      }

      .tooth.cavity {
        background: #ffebee;
        border-color: #f44336;
        color: #f44336;
      }

      .tooth.plaque {
        background: #fff8e1;
        border-color: #ff9800;
        color: #ff9800;
      }

      .tooth:hover {
        transform: scale(1.1);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .enemy {
        position: absolute;
        width: 50px;
        height: 50px;
        background: #f44336;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        animation: float 2s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .enemy:hover {
        transform: scale(1.2);
      }

      .cta-section {
        background: linear-gradient(135deg, #800075 0%, #a03399 100%);
        color: white;
        padding: 40px;
        text-align: center;
        margin-top: 30px;
      }

      .cta-btn {
        background: white;
        color: #800075;
        padding: 15px 30px;
        border: none;
        border-radius: 25px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        margin-top: 15px;
        transition: all 0.3s ease;
      }

      .cta-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .exercise-benefits {
        background: #e8f5e8;
        border-radius: 15px;
        padding: 20px;
      }

      .exercise-metrics {
        background: white;
        border-radius: 10px;
        padding: 15px;
        margin-top: 15px;
      }

      /* Mindful Moments Styles */
      .breathing-circle {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        font-weight: bold;
        animation: pulse 4s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
      }

      .breathing-text {
        text-align: center;
      }

      .gratitude-entry {
        background: white;
        border-radius: 10px;
        padding: 15px;
        margin: 10px 0;
        border-left: 5px solid #800075;
      }

      .meditation-timer {
        font-size: 3rem;
        font-weight: bold;
        color: #800075;
        margin: 20px 0;
      }

      @keyframes achievement-popup {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        50% {
          transform: scale(1.1);
          opacity: 1;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @media (max-width: 768px) {
        .game-header h1 {
          font-size: 2em;
        }

        .menu-buttons {
          grid-template-columns: 1fr;
        }

        .quiz-options {
          grid-template-columns: 1fr;
        }

        .game-card-image {
          height: 150px;
          font-size: 3rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Spinner -->
    <div
      id="spinner"
      class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
    >
      <div
        class="spinner-border text-primary"
        style="width: 3rem; height: 3rem"
        role="status"
      >
        <span class="sr-only">Loading...</span>
      </div>
    </div>

    <!-- Topbar -->
    <div class="container-fluid bg-dark px-5 d-none d-lg-block">
      <div class="row gx-0 align-items-center" style="height: 45px">
        <div class="col-lg-8 text-center text-lg-start mb-lg-0">
          <div class="d-flex flex-wrap">
            <a href="#" class="text-light me-4"
              ><i class="fas fa-map-marker-alt text-primary me-2"></i>Thome
              Road, Ruiru, Kiambu County</a
            >
            <a href="tel:+254758833863" class="text-light me-0"
              ><i class="fas fa-phone-alt text-primary me-2"></i>+254 758 833
              863</a
            >
          </div>
        </div>
        <div class="col-lg-4 text-center text-lg-end">
          <div class="d-flex align-items-center justify-content-end">
            <a
              href="https://www.facebook.com/profile.php?id=100094585454733"
              class="btn btn-light btn-square border rounded-circle nav-fill me-3"
              target="_blank"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a
              href="https://www.tiktok.com/@cairo.family.hosp"
              class="btn btn-light btn-square border rounded-circle nav-fill me-3"
              target="_blank"
              ><i class="fab fa-tiktok"></i
            ></a>
            <a
              href="https://www.instagram.com/cairo_family_hospital?igsh=bmVicmp4ZXVxYjRy"
              class="btn btn-light btn-square border rounded-circle nav-fill me-3"
              target="_blank"
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
      </div>
    </div>

    <!-- Navbar -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-white px-4 px-lg-5 py-3 py-lg-0"
    >
      <a href="index.html" class="navbar-brand p-0 d-flex align-items-center">
        <img src="img/cairo.jpg" alt="Cairo Family Hospital Logo" height="50" />
        <span class="text-primary h1 mb-0 ms-2"
          ><i class="fas fa-star-of-life me-2"></i>Cairo Family Hospital</span
        >
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarCollapse"
      >
        <span class="fa fa-bars"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto py-0">
          <a href="index.html" class="nav-item nav-link">Home</a>
          <a href="order.html" class="nav-item nav-link">Order</a>
          <a href="medicine.html" class="nav-item nav-link">Pharmacy</a>
          <a href="game-hub.html" class="nav-item nav-link active">Game Hub</a>
          <a href="contact.html" class="nav-item nav-link">Contact Us</a>
          <a href="about.html" class="nav-item nav-link">About</a>
          <a href="service.html" class="nav-item nav-link">Services</a>
          <a href="hybrid-retailer.html" class="nav-item nav-link"
            >Hybrid Retailer</a
          >
        </div>
        <a
          href="https://wa.me/254758833863?text=Hello%20Cairo%20Family%20Hospital,%20I%20would%20like%20to%20book%20an%20appointment."
          class="btn btn-primary rounded-pill text-white py-2 px-4"
          target="_blank"
          >Book Appointment</a
        >
      </div>
    </nav>

    <!-- Main Game Hub -->
    <div id="main-hub">
      <!-- Game Hero Section -->
      <div class="game-hero">
        <div class="container">
          <h1 class="display-4 fw-bold text-white mb-3">Health Games Hub</h1>
          <p class="lead text-white mb-4">
            Fun, Educational Games for Healthy Living!
          </p>
          <p class="text-white">
            Learn about health, hygiene, and wellness through interactive games
          </p>
        </div>
      </div>

      <!-- Games Grid -->
      <div class="games-grid">
        <div class="container">
          <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-primary">Choose Your Game</h2>
            <p class="lead">Educational fun for all ages!</p>
          </div>

          <div class="row g-4">
            <!-- Dental Hero Game -->
            <div class="col-md-6 col-lg-4">
              <div class="game-card">
                <div class="game-card-image">ü¶∑</div>
                <div class="game-card-content">
                  <h3>Dental Hero Academy</h3>
                  <p>
                    Learn proper dental care while fighting cavities and plaque
                    monsters. Perfect for kids learning about oral hygiene!
                  </p>
                  <button class="play-btn" onclick="showGame('dental-hero')">
                    Play Now <i class="fas fa-play ms-2"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Nutrition Adventure -->
            <div class="col-md-6 col-lg-4">
              <div class="game-card">
                <div class="game-card-image">üçé</div>
                <div class="game-card-content">
                  <h3>Nutrition Adventure</h3>
                  <p>
                    Explore the food pyramid and learn about healthy eating
                    habits. Match foods to their nutrition groups!
                  </p>
                  <button
                    class="play-btn"
                    onclick="showGame('nutrition-adventure')"
                  >
                    Play Now <i class="fas fa-play ms-2"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- First Aid Hero -->
            <div class="col-md-6 col-lg-4">
              <div class="game-card">
                <div class="game-card-image">üè•</div>
                <div class="game-card-content">
                  <h3>First Aid Hero</h3>
                  <p>
                    Learn basic first aid procedures and emergency response. Be
                    prepared to help in any situation!
                  </p>
                  <button class="play-btn" onclick="showGame('first-aid')">
                    Play Now <i class="fas fa-play ms-2"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Hygiene Defender -->
            <div class="col-md-6 col-lg-4">
              <div class="game-card">
                <div class="game-card-image">ü¶†</div>
                <div class="game-card-content">
                  <h3>Hygiene Defender</h3>
                  <p>
                    Fight germs and learn proper hygiene habits. Protect your
                    body from harmful bacteria and viruses!
                  </p>
                  <button
                    class="play-btn"
                    onclick="showGame('hygiene-defender')"
                  >
                    Play Now <i class="fas fa-play ms-2"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Fitness Challenge -->
            <div class="col-md-6 col-lg-4">
              <div class="game-card">
                <div class="game-card-image">üí™</div>
                <div class="game-card-content">
                  <h3>Fitness Challenge</h3>
                  <p>
                    Learn about different exercises and their benefits. Complete
                    fitness challenges to stay active!
                  </p>
                  <button
                    class="play-btn"
                    onclick="showGame('fitness-challenge')"
                  >
                    Play Now <i class="fas fa-play ms-2"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Mental Wellness -->
            <div class="col-md-6 col-lg-4">
              <div class="game-card">
                <div class="game-card-image">üòä</div>
                <div class="game-card-content">
                  <h3>Mindful Moments</h3>
                  <p>
                    Practice mindfulness and learn stress management techniques.
                    Games for mental health and relaxation.
                  </p>
                  <button
                    class="play-btn"
                    onclick="showGame('mindful-moments')"
                  >
                    Play Now <i class="fas fa-play ms-2"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Features Section -->
      <div class="game-features">
        <div class="container">
          <div class="text-center mb-5">
            <h2 class="display-5 fw-bold text-primary">
              Why Play Health Games?
            </h2>
            <p class="lead">Learning through play makes healthy habits fun!</p>
          </div>
          <div class="row g-4">
            <div class="col-md-4">
              <div class="feature-item">
                <div class="feature-icon">üéØ</div>
                <h4>Educational</h4>
                <p>Learn important health concepts while having fun</p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="feature-item">
                <div class="feature-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                <h4>Family Friendly</h4>
                <p>Games suitable for all ages to play together</p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="feature-item">
                <div class="feature-icon">üèÜ</div>
                <h4>Rewarding</h4>
                <p>Earn achievements and learn healthy habits</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Individual Game Containers -->
    <!-- Dental Hero Game -->
    <div id="dental-hero" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>ü¶∑ Dental Hero Academy</h1>
        <div class="hospital-brand">
          Learn proper dental care through fun games!
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="dental-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dental-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dental-health">100</div>
          <div class="stat-label">Oral Health %</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dental-achievements">0</div>
          <div class="stat-label">Achievements</div>
        </div>
      </div>

      <!-- Menu Screen -->
      <div class="game-screen active" id="dental-menu">
        <div class="menu-screen">
          <h2>Welcome, Future Dental Hero! üöÄ</h2>
          <p style="margin: 20px 0; font-size: 1.1em; color: #666">
            Master the art of dental care through fun games and challenges!
          </p>

          <div class="menu-buttons">
            <button class="menu-btn" onclick="startDentalGame('battle')">
              ‚öîÔ∏è Battle Cavities<br />
              <small>Fight dental enemies</small>
            </button>
            <button class="menu-btn" onclick="startDentalGame('quiz')">
              üß† Knowledge Quest<br />
              <small>Test your dental IQ</small>
            </button>
            <button class="menu-btn" onclick="startDentalGame('clinic')">
              üè• Clinic Simulator<br />
              <small>Run your dental practice</small>
            </button>
            <button class="menu-btn" onclick="startDentalGame('makeover')">
              ‚ú® Smile Makeover<br />
              <small>Design perfect smiles</small>
            </button>
          </div>
        </div>
      </div>

      <!-- Battle Game -->
      <div class="game-screen" id="battle">
        <h2>üõ°Ô∏è Defend Your Teeth!</h2>
        <div class="instructions">
          <strong>Mission:</strong> Click on cavity monsters and plaque enemies
          to eliminate them before they damage your teeth!
        </div>

        <div class="tooth-display" id="toothGrid"></div>

        <div class="game-area" id="battleArea">
          <div style="text-align: center; padding: 50px">
            <p style="font-size: 1.2em; margin-bottom: 20px">
              Enemies incoming! Click to defend!
            </p>
            <div class="progress-bar">
              <div
                class="progress-fill"
                id="battleProgress"
                style="width: 0%"
              ></div>
            </div>
          </div>
        </div>

        <button class="game-btn" onclick="showDentalScreen('dental-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Quiz Game -->
      <div class="game-screen" id="quiz">
        <h2>üß† Dental Knowledge Challenge</h2>
        <div class="instructions">
          <strong>Test your knowledge:</strong> Answer dental health questions
          to level up your expertise!
        </div>

        <div class="game-area">
          <div id="quizContent">
            <div style="text-align: center; padding: 50px">
              <p style="font-size: 1.2em">Loading your first challenge...</p>
            </div>
          </div>
        </div>

        <button class="game-btn" onclick="showDentalScreen('dental-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Clinic Simulator -->
      <div class="game-screen" id="clinic">
        <h2>üè• Your Dental Clinic</h2>
        <div class="instructions">
          <strong>Be the dentist:</strong> Diagnose and treat patients to build
          your reputation!
        </div>

        <div class="game-area">
          <div id="clinicContent" style="text-align: center">
            <div style="margin: 30px 0">
              <h3>Patient #<span id="patientNumber">1</span> has arrived!</h3>
              <div style="font-size: 3em; margin: 20px 0">üò∞</div>
              <p id="patientComplaint">My tooth hurts when I eat sweets...</p>
            </div>

            <div style="margin: 30px 0">
              <h4>Choose your diagnosis:</h4>
              <div class="quiz-options" id="diagnosisOptions"></div>
            </div>
          </div>
        </div>

        <button class="game-btn" onclick="showDentalScreen('dental-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Smile Makeover -->
      <div class="game-screen" id="makeover">
        <h2>‚ú® Smile Makeover Studio</h2>
        <div class="instructions">
          <strong>Create the perfect smile:</strong> Help patients achieve their
          dream smiles!
        </div>

        <div class="game-area" style="text-align: center">
          <div style="margin: 30px 0">
            <h3>Before & After</h3>
            <div
              style="
                display: flex;
                justify-content: space-around;
                align-items: center;
                margin: 30px 0;
              "
            >
              <div>
                <h4>Before</h4>
                <div style="font-size: 3em; margin: 10px">üò¨</div>
                <p>Crooked, stained teeth</p>
              </div>
              <div style="font-size: 2em">‚Üí</div>
              <div>
                <h4>After Treatment</h4>
                <div style="font-size: 3em; margin: 10px">üòÅ</div>
                <p>Perfect, bright smile!</p>
              </div>
            </div>
          </div>

          <div style="margin: 30px 0">
            <h4>Treatment Options:</h4>
            <div class="quiz-options">
              <div class="quiz-option" onclick="selectTreatment('braces')">
                ü¶∑ Braces<br /><small>Straighten crooked teeth</small>
              </div>
              <div class="quiz-option" onclick="selectTreatment('whitening')">
                ‚ú® Whitening<br /><small>Remove stains</small>
              </div>
              <div class="quiz-option" onclick="selectTreatment('cleaning')">
                ü™• Deep Cleaning<br /><small>Remove plaque buildup</small>
              </div>
              <div class="quiz-option" onclick="selectTreatment('crown')">
                üëë Crown<br /><small>Restore damaged teeth</small>
              </div>
            </div>
          </div>
        </div>

        <button class="game-btn" onclick="showDentalScreen('dental-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- CTA Section -->
      <div class="cta-section">
        <h3>üéâ Ready for Your Real Dental Adventure?</h3>
        <p>
          You've mastered the game - now let our expert team at Cairo Family
          Hospital take care of your real smile!
        </p>
        <button class="cta-btn" onclick="bookDentalAppointment()">
          üìÖ Book Your Appointment
        </button>
        <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.9">
          Professional care ‚Ä¢ Latest technology ‚Ä¢ Gentle treatment
        </p>
      </div>
    </div>

    <!-- <div id="dental-hero" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>ü¶∑ Dental Hero Academy</h1>
        <div class="hospital-brand">
          Learn proper dental care through fun games!
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="dental-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dental-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="dental-health">100</div>
          <div class="stat-label">Oral Health %</div>
        </div>
      </div>


      <div class="game-screen active">
        <div class="text-center p-5">
          <h3>Dental Hero Academy</h3>
          <p class="mb-4">This is where the dental game would be loaded.</p>
          <button class="game-btn" onclick="showMainHub()">
            Back to Game Hub
          </button>
        </div>
      </div>
    </div> -->

    <!-- Nutrition Adventure Game -->
    <div id="nutrition-adventure" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>üçé Nutrition Adventure</h1>
        <div class="hospital-brand">Discover the world of healthy eating!</div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="nutrition-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="nutrition-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="nutrition-energy">100</div>
          <div class="stat-label">Energy</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="nutrition-streak">0</div>
          <div class="stat-label">Streak</div>
        </div>
      </div>

      <!-- Game Screens -->
      <div class="game-screen active" id="nutrition-menu">
        <div class="menu-screen">
          <h2>Welcome to Nutrition Adventure! üçΩÔ∏è</h2>
          <p style="margin: 20px 0; font-size: 1.1em; color: #666">
            Learn about healthy eating and build balanced meals!
          </p>

          <div class="menu-buttons">
            <button class="menu-btn" onclick="startNutritionGame('food-match')">
              üß© Food Group Match<br />
              <small>Match foods to their groups</small>
            </button>
            <button
              class="menu-btn"
              onclick="startNutritionGame('meal-builder')"
            >
              üçΩÔ∏è Meal Builder<br />
              <small>Create balanced meals</small>
            </button>
            <button
              class="menu-btn"
              onclick="startNutritionGame('pyramid-challenge')"
            >
              üèîÔ∏è Pyramid Challenge<br />
              <small>Learn the food pyramid</small>
            </button>
            <button class="menu-btn" onclick="startNutritionGame('quiz')">
              üß† Nutrition Quiz<br />
              <small>Test your knowledge</small>
            </button>
          </div>
        </div>
      </div>

      <!-- Food Group Match Game -->
      <div class="game-screen" id="food-match">
        <h2>üß© Food Group Match</h2>
        <div class="instructions">
          <strong>Mission:</strong> Drag food items to their correct food
          groups! Complete before time runs out.
        </div>

        <div class="game-area">
          <div class="row">
            <div class="col-md-8">
              <div class="food-items-container" id="foodItems">
                <!-- Food items will be generated here -->
              </div>
            </div>
            <div class="col-md-4">
              <div class="food-groups-container">
                <div
                  class="food-group"
                  data-group="fruits"
                  ondrop="drop(event)"
                  ondragover="allowDrop(event)"
                >
                  <h5>üçé Fruits</h5>
                  <div class="drop-zone" id="fruits-drop"></div>
                </div>
                <div
                  class="food-group"
                  data-group="vegetables"
                  ondrop="drop(event)"
                  ondragover="allowDrop(event)"
                >
                  <h5>ü•¶ Vegetables</h5>
                  <div class="drop-zone" id="vegetables-drop"></div>
                </div>
                <div
                  class="food-group"
                  data-group="grains"
                  ondrop="drop(event)"
                  ondragover="allowDrop(event)"
                >
                  <h5>üçû Grains</h5>
                  <div class="drop-zone" id="grains-drop"></div>
                </div>
                <div
                  class="food-group"
                  data-group="proteins"
                  ondrop="drop(event)"
                  ondragover="allowDrop(event)"
                >
                  <h5>ü•© Proteins</h5>
                  <div class="drop-zone" id="proteins-drop"></div>
                </div>
                <div
                  class="food-group"
                  data-group="dairy"
                  ondrop="drop(event)"
                  ondragover="allowDrop(event)"
                >
                  <h5>ü•õ Dairy</h5>
                  <div class="drop-zone" id="dairy-drop"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="progress-bar mt-4">
            <div
              class="progress-fill"
              id="matchProgress"
              style="width: 0%"
            ></div>
          </div>
          <div class="text-center mt-2">
            <span id="timer">Time: 60s</span> |
            <span id="matches">Matches: 0/10</span>
          </div>
        </div>

        <button
          class="game-btn"
          onclick="showNutritionScreen('nutrition-menu')"
        >
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Meal Builder Game -->
      <div class="game-screen" id="meal-builder">
        <h2>üçΩÔ∏è Build a Balanced Meal</h2>
        <div class="instructions">
          <strong>Mission:</strong> Create a balanced meal by selecting foods
          from each food group!
        </div>

        <div class="game-area">
          <div class="row">
            <div class="col-md-6">
              <h5>Available Foods</h5>
              <div class="food-selection" id="foodSelection">
                <!-- Food selection will be generated here -->
              </div>
            </div>
            <div class="col-md-6">
              <h5>Your Plate</h5>
              <div class="meal-plate" id="mealPlate">
                <div class="plate-section" data-group="fruits">
                  <h6>üçé Fruits</h6>
                  <div class="selected-foods" id="selected-fruits"></div>
                </div>
                <div class="plate-section" data-group="vegetables">
                  <h6>ü•¶ Vegetables</h6>
                  <div class="selected-foods" id="selected-vegetables"></div>
                </div>
                <div class="plate-section" data-group="grains">
                  <h6>üçû Grains</h6>
                  <div class="selected-foods" id="selected-grains"></div>
                </div>
                <div class="plate-section" data-group="proteins">
                  <h6>ü•© Proteins</h6>
                  <div class="selected-foods" id="selected-proteins"></div>
                </div>
                <div class="plate-section" data-group="dairy">
                  <h6>ü•õ Dairy</h6>
                  <div class="selected-foods" id="selected-dairy"></div>
                </div>
              </div>

              <div class="meal-score mt-3">
                <h6>Meal Balance Score: <span id="balanceScore">0%</span></h6>
                <div class="progress-bar">
                  <div
                    class="progress-fill"
                    id="balanceProgress"
                    style="width: 0%"
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="text-center mt-3">
          <button class="game-btn" onclick="checkMealBalance()">
            Check My Meal
          </button>
          <button class="game-btn" onclick="resetMeal()">Start Over</button>
        </div>
        <button
          class="game-btn"
          onclick="showNutritionScreen('nutrition-menu')"
        >
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Food Pyramid Challenge -->
      <div class="game-screen" id="pyramid-challenge">
        <h2>üèîÔ∏è Food Pyramid Challenge</h2>
        <div class="instructions">
          <strong>Mission:</strong> Learn the food pyramid by placing foods in
          the correct levels!
        </div>

        <div class="game-area">
          <div class="food-pyramid">
            <div
              class="pyramid-level"
              data-level="fats"
              style="background: #ff6b6b"
            >
              <h6>Fats & Sweets üç∞</h6>
              <div class="pyramid-drop" id="fats-level"></div>
            </div>
            <div
              class="pyramid-level"
              data-level="dairy"
              style="background: #4ecdc4"
            >
              <h6>Dairy ü•õ</h6>
              <div class="pyramid-drop" id="dairy-level"></div>
            </div>
            <div
              class="pyramid-level"
              data-level="proteins"
              style="background: #45b7d1"
            >
              <h6>Proteins ü•©</h6>
              <div class="pyramid-drop" id="proteins-level"></div>
            </div>
            <div
              class="pyramid-level"
              data-level="vegetables"
              style="background: #96ceb4"
            >
              <h6>Vegetables ü•¶</h6>
              <div class="pyramid-drop" id="vegetables-level"></div>
            </div>
            <div
              class="pyramid-level"
              data-level="fruits"
              style="background: #feca57"
            >
              <h6>Fruits üçé</h6>
              <div class="pyramid-drop" id="fruits-level"></div>
            </div>
            <div
              class="pyramid-level"
              data-level="grains"
              style="background: #ff9ff3"
            >
              <h6>Grains üçû</h6>
              <div class="pyramid-drop" id="grains-level"></div>
            </div>
          </div>

          <div class="pyramid-foods" id="pyramidFoods">
            <!-- Pyramid food items will be generated here -->
          </div>
        </div>

        <div class="text-center mt-3">
          <button class="game-btn" onclick="checkPyramid()">
            Check Pyramid
          </button>
          <button class="game-btn" onclick="resetPyramid()">Reset</button>
        </div>
        <button
          class="game-btn"
          onclick="showNutritionScreen('nutrition-menu')"
        >
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Nutrition Quiz -->
      <div class="game-screen" id="nutrition-quiz">
        <h2>üß† Nutrition Knowledge Quiz</h2>
        <div class="instructions">
          <strong>Test your knowledge:</strong> Answer questions about healthy
          eating and nutrition!
        </div>

        <div class="game-area">
          <div id="quizContent">
            <div class="text-center p-4">
              <h4 id="quizQuestion">Loading question...</h4>
              <div class="quiz-options mt-4" id="quizOptions"></div>
              <div id="quizFeedback" class="mt-3"></div>
            </div>
          </div>

          <div class="progress-bar mt-4">
            <div
              class="progress-fill"
              id="quizProgress"
              style="width: 0%"
            ></div>
          </div>
          <div class="text-center mt-2">
            Question: <span id="currentQuestion">1</span>/<span
              id="totalQuestions"
              >5</span
            >
          </div>
        </div>

        <button
          class="game-btn"
          onclick="showNutritionScreen('nutrition-menu')"
        >
          ‚Üê Back to Menu
        </button>
      </div>
    </div>

    <!-- First Aid Hero Game -->
    <div id="first-aid" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>üè• First Aid Hero</h1>
        <div class="hospital-brand">
          Learn life-saving skills through interactive scenarios!
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="firstaid-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="firstaid-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="firstaid-lives">3</div>
          <div class="stat-label">Lives</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="firstaid-saved">0</div>
          <div class="stat-label">Patients Saved</div>
        </div>
      </div>

      <!-- Game Screens -->
      <div class="game-screen active" id="firstaid-menu">
        <div class="menu-screen">
          <h2>Welcome, First Aid Hero! üöë</h2>
          <p style="margin: 20px 0; font-size: 1.1em; color: #666">
            Learn emergency response and life-saving techniques!
          </p>

          <div class="menu-buttons">
            <button
              class="menu-btn"
              onclick="startFirstAidGame('emergency-scenarios')"
            >
              üö® Emergency Response<br />
              <small>Handle emergency situations</small>
            </button>
            <button
              class="menu-btn"
              onclick="startFirstAidGame('cpr-training')"
            >
              üíì CPR Training<br />
              <small>Learn chest compressions</small>
            </button>
            <button
              class="menu-btn"
              onclick="startFirstAidGame('firstaid-kit')"
            >
              üéí First Aid Kit<br />
              <small>Build your emergency kit</small>
            </button>
            <button class="menu-btn" onclick="startFirstAidGame('safety-quiz')">
              üß† Safety Quiz<br />
              <small>Test your knowledge</small>
            </button>
          </div>
        </div>
      </div>

      <!-- Emergency Scenarios -->
      <div class="game-screen" id="emergency-scenarios">
        <h2>üö® Emergency Response Scenarios</h2>
        <div class="instructions">
          <strong>Mission:</strong> Choose the correct first aid response for
          each emergency situation!
        </div>

        <div class="game-area">
          <div id="scenarioContent" class="text-center p-4">
            <div class="scenario-card">
              <h4 id="scenarioTitle">Loading Scenario...</h4>
              <div class="scenario-description" id="scenarioDesc"></div>
              <div class="scenario-image" id="scenarioImage"></div>
            </div>

            <div class="response-options mt-4" id="responseOptions"></div>

            <div id="scenarioFeedback" class="mt-3"></div>
          </div>

          <div class="progress-bar mt-4">
            <div
              class="progress-fill"
              id="scenarioProgress"
              style="width: 0%"
            ></div>
          </div>
          <div class="text-center mt-2">
            Scenario: <span id="currentScenario">1</span>/<span
              id="totalScenarios"
              >5</span
            >
          </div>
        </div>

        <button class="game-btn" onclick="showFirstAidScreen('firstaid-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- CPR Training -->
      <div class="game-screen" id="cpr-training">
        <h2>üíì CPR Training Simulator</h2>
        <div class="instructions">
          <strong>Mission:</strong> Perform chest compressions at the correct
          rhythm (100-120 beats per minute)!
        </div>

        <div class="game-area">
          <div class="cpr-simulator text-center">
            <div class="cpr-dummy">
              <div class="dummy-torso">
                <div class="compression-spot" id="compressionSpot"></div>
              </div>
            </div>

            <div class="cpr-stats mt-4">
              <div class="row">
                <div class="col-md-4">
                  <h6>Compressions: <span id="compressionCount">0</span></h6>
                </div>
                <div class="col-md-4">
                  <h6>Rhythm: <span id="compressionRate">0</span> BPM</h6>
                </div>
                <div class="col-md-4">
                  <h6>Accuracy: <span id="compressionAccuracy">0%</span></h6>
                </div>
              </div>
            </div>

            <div class="metronome mt-3">
              <div class="beat-indicator" id="beatIndicator">‚ô™</div>
              <p>Target: 100-120 BPM</p>
            </div>

            <button class="game-btn" id="startCPR" onclick="startCPR()">
              Start CPR
            </button>
            <button
              class="game-btn"
              id="compressBtn"
              onclick="performCompression()"
              style="display: none"
            >
              Press Here!
            </button>
          </div>
        </div>

        <button class="game-btn" onclick="showFirstAidScreen('firstaid-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Add First Aid Kit and Safety Quiz screens similarly -->
    </div>

    <!-- Hygiene Defender Game -->
    <div id="hygiene-defender" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>ü¶† Hygiene Defender</h1>
        <div class="hospital-brand">
          Fight germs and learn proper hygiene habits!
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="hygiene-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="hygiene-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="hygiene-health">100</div>
          <div class="stat-label">Health %</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="germs-eliminated">0</div>
          <div class="stat-label">Germs Eliminated</div>
        </div>
      </div>

      <!-- Game Screens -->
      <div class="game-screen active" id="hygiene-menu">
        <div class="menu-screen">
          <h2>Welcome, Hygiene Defender! üõ°Ô∏è</h2>
          <p style="margin: 20px 0; font-size: 1.1em; color: #666">
            Protect your body from germs and learn clean habits!
          </p>

          <div class="menu-buttons">
            <button
              class="menu-btn"
              onclick="startHygieneGame('germ-invasion')"
            >
              ü¶† Germ Invasion<br />
              <small>Shoot incoming germs</small>
            </button>
            <button class="menu-btn" onclick="startHygieneGame('hand-wash')">
              üßº Hand Washing<br />
              <small>Learn proper technique</small>
            </button>
            <button
              class="menu-btn"
              onclick="startHygieneGame('clean-environment')"
            >
              üè† Clean Environment<br />
              <small>Spot cleaning mistakes</small>
            </button>
            <button class="menu-btn" onclick="startHygieneGame('hygiene-quiz')">
              üß† Hygiene Quiz<br />
              <small>Test your knowledge</small>
            </button>
          </div>
        </div>
      </div>

      <!-- Germ Invasion Game -->
      <div class="game-screen" id="germ-invasion">
        <h2>ü¶† Germ Invasion Defense</h2>
        <div class="instructions">
          <strong>Mission:</strong> Click on incoming germs before they reach
          your body! Use soap power-ups for extra points.
        </div>

        <div
          class="game-area"
          style="
            position: relative;
            height: 400px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          "
        >
          <div id="germInvasionArea">
            <div class="player-character" id="playerCharacter">üò∑</div>
          </div>

          <div class="hygiene-stats">
            <div class="row text-center">
              <div class="col-md-4">
                <h6 class="text-white">
                  Health: <span id="currentHealth">100%</span>
                </h6>
              </div>
              <div class="col-md-4">
                <h6 class="text-white">Soap: <span id="soapCount">3</span></h6>
              </div>
              <div class="col-md-4">
                <h6 class="text-white">
                  Wave: <span id="currentWave">1</span>
                </h6>
              </div>
            </div>
          </div>
        </div>

        <div class="text-center mt-3">
          <button class="game-btn" onclick="useSoap()">Use Soap üßº</button>
          <button
            class="game-btn"
            id="startGermGame"
            onclick="startGermInvasion()"
          >
            Start Game
          </button>
        </div>

        <button class="game-btn" onclick="showHygieneScreen('hygiene-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Add other hygiene game screens similarly -->
    </div>

    <!-- Fitness Challenge Game -->
    <div id="fitness-challenge" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>üí™ Fitness Challenge</h1>
        <div class="hospital-brand">
          Get active and learn about exercise benefits!
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="fitness-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="fitness-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="fitness-energy">100</div>
          <div class="stat-label">Energy</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="workouts-completed">0</div>
          <div class="stat-label">Workouts</div>
        </div>
      </div>

      <!-- Game Screens -->
      <div class="game-screen active" id="fitness-menu">
        <div class="menu-screen">
          <h2>Welcome to Fitness Challenge! üèÉ‚Äç‚ôÇÔ∏è</h2>
          <p style="margin: 20px 0; font-size: 1.1em; color: #666">
            Learn about different exercises and their health benefits!
          </p>

          <div class="menu-buttons">
            <button
              class="menu-btn"
              onclick="startFitnessGame('exercise-guide')"
            >
              üèÉ‚Äç‚ôÄÔ∏è Exercise Guide<br />
              <small>Learn different exercises</small>
            </button>
            <button
              class="menu-btn"
              onclick="startFitnessGame('workout-routine')"
            >
              üìã Workout Builder<br />
              <small>Create exercise routines</small>
            </button>
            <button
              class="menu-btn"
              onclick="startFitnessGame('fitness-tracker')"
            >
              üìä Fitness Tracker<br />
              <small>Track your progress</small>
            </button>
            <button class="menu-btn" onclick="startFitnessGame('fitness-quiz')">
              üß† Fitness Quiz<br />
              <small>Test your knowledge</small>
            </button>
          </div>
        </div>
      </div>

      <!-- Exercise Guide -->
      <div class="game-screen" id="exercise-guide">
        <h2>üèÉ‚Äç‚ôÄÔ∏è Exercise Demonstration</h2>
        <div class="instructions">
          <strong>Learn:</strong> Watch exercise demonstrations and learn proper
          form!
        </div>

        <div class="game-area">
          <div class="exercise-demo">
            <div class="row">
              <div class="col-md-6">
                <div class="exercise-card">
                  <h4 id="exerciseName">Jumping Jacks</h4>
                  <div class="exercise-animation" id="exerciseAnimation">
                    <div class="animated-figure">üßç‚Äç‚ôÇÔ∏è‚Üíüë®‚ÄçüöÄ</div>
                  </div>
                  <div class="exercise-steps mt-3">
                    <h6>Steps:</h6>
                    <ol id="exerciseSteps">
                      <li>Stand with feet together and arms at sides</li>
                      <li>Jump while spreading legs and raising arms</li>
                      <li>Return to starting position</li>
                      <li>Repeat rhythmically</li>
                    </ol>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="exercise-benefits">
                  <h6>Benefits:</h6>
                  <ul id="exerciseBenefits">
                    <li>‚úÖ Improves cardiovascular health</li>
                    <li>‚úÖ Strengthens legs and core</li>
                    <li>‚úÖ Burns calories</li>
                    <li>‚úÖ Improves coordination</li>
                  </ul>

                  <div class="exercise-metrics mt-3">
                    <h6>Metrics:</h6>
                    <p>
                      ‚è±Ô∏è Duration: <span id="exerciseDuration">30 seconds</span>
                    </p>
                    <p>
                      üî• Calories: <span id="exerciseCalories">5-8</span> per
                      minute
                    </p>
                    <p>
                      üí™ Difficulty:
                      <span id="exerciseDifficulty">Beginner</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="exercise-navigation text-center mt-4">
              <button class="game-btn" onclick="previousExercise()">
                ‚Üê Previous
              </button>
              <button class="game-btn" onclick="nextExercise()">Next ‚Üí</button>
              <button class="game-btn" onclick="tryExercise()">
                Try This Exercise
              </button>
            </div>
          </div>
        </div>

        <button class="game-btn" onclick="showFitnessScreen('fitness-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Add other fitness game screens similarly -->
    </div>

    <!-- Mindful Moments Game -->
    <div id="mindful-moments" class="game-container">
      <div class="game-header">
        <button class="back-to-hub" onclick="showMainHub()">
          <i class="fas fa-arrow-left me-2"></i> Back to Games
        </button>
        <h1>üòä Mindful Moments</h1>
        <div class="hospital-brand">
          Practice mindfulness and stress management techniques!
        </div>
      </div>

      <div class="stats-bar">
        <div class="stat">
          <div class="stat-value" id="mindful-score">0</div>
          <div class="stat-label">Score</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="mindful-level">1</div>
          <div class="stat-label">Level</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="mindful-calm">100</div>
          <div class="stat-label">Calm %</div>
        </div>
        <div class="stat">
          <div class="stat-value" id="sessions-completed">0</div>
          <div class="stat-label">Sessions</div>
        </div>
      </div>

      <!-- Game Screens -->
      <div class="game-screen active" id="mindful-menu">
        <div class="menu-screen">
          <h2>Welcome to Mindful Moments! üå∏</h2>
          <p style="margin: 20px 0; font-size: 1.1em; color: #666">
            Practice relaxation techniques and stress management!
          </p>

          <div class="menu-buttons">
            <button
              class="menu-btn"
              onclick="startMindfulGame('breathing-exercise')"
            >
              üå¨Ô∏è Breathing Exercise<br />
              <small>Calm your mind</small>
            </button>
            <button class="menu-btn" onclick="startMindfulGame('meditation')">
              üßò‚Äç‚ôÄÔ∏è Guided Meditation<br />
              <small>Focus and relax</small>
            </button>
            <button
              class="menu-btn"
              onclick="startMindfulGame('gratitude-journal')"
            >
              üìî Gratitude Journal<br />
              <small>Practice thankfulness</small>
            </button>
            <button
              class="menu-btn"
              onclick="startMindfulGame('mindfulness-quiz')"
            >
              üß† Mindfulness Quiz<br />
              <small>Test your knowledge</small>
            </button>
          </div>
        </div>
      </div>

      <!-- Breathing Exercise -->
      <div class="game-screen" id="breathing-exercise">
        <h2>üå¨Ô∏è Breathing Exercise</h2>
        <div class="instructions">
          <strong>Relax:</strong> Follow the breathing guide to calm your mind
          and reduce stress.
        </div>

        <div class="game-area">
          <div class="breathing-guide text-center">
            <div class="breathing-circle" id="breathingCircle">
              <div class="breathing-text" id="breathingText">Breathe In</div>
            </div>

            <div class="breathing-stats mt-4">
              <div class="row">
                <div class="col-md-4">
                  <h6>Cycle: <span id="breathCycle">1</span>/5</h6>
                </div>
                <div class="col-md-4">
                  <h6>Heart Rate: <span id="heartRate">72</span> BPM</h6>
                </div>
                <div class="col-md-4">
                  <h6>Calm Level: <span id="calmLevel">50%</span></h6>
                </div>
              </div>
            </div>

            <div class="breathing-instructions mt-3">
              <p id="breathInstruction">
                Take a deep breath in through your nose...
              </p>
            </div>

            <button
              class="game-btn"
              id="startBreathing"
              onclick="startBreathingExercise()"
            >
              Start Breathing Exercise
            </button>
            <button
              class="game-btn"
              id="nextBreath"
              onclick="nextBreathPhase()"
              style="display: none"
            >
              Continue
            </button>
          </div>
        </div>

        <button class="game-btn" onclick="showMindfulScreen('mindful-menu')">
          ‚Üê Back to Menu
        </button>
      </div>

      <!-- Add other mindfulness game screens similarly -->
    </div>

    <!-- Add similar containers for other games... -->

    <!-- Include your existing footer -->
    <div class="container-fluid footer py-5 wow fadeIn" data-wow-delay="0.2s">
      <div class="container py-5">
        <div class="row g-5">
          <div class="col-md-6 col-lg-6 col-xl-3">
            <div class="footer-item d-flex flex-column">
              <h4 class="text-white mb-4">
                <i class="fas fa-star-of-life me-3"></i>Cairo Family Hospital
              </h4>
              <p>
                Your trusted partner in healthcare, providing quality, ethical,
                and accessible services for every family in Ruiru.
              </p>
              <div class="d-flex align-items-center">
                <i class="fas fa-share fa-2x text-white me-2"></i>
                <a
                  class="btn btn-square btn-primary text-white rounded-circle mx-1"
                  href="https://www.facebook.com/profile.php?id=100094585454733"
                  target="_blank"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a
                  class="btn btn-square btn-primary text-white rounded-circle mx-1"
                  href="https://www.tiktok.com/@cairo.family.hosp"
                  target="_blank"
                  ><i class="fab fa-tiktok"></i
                ></a>
                <a
                  class="btn btn-square btn-primary text-white rounded-circle mx-1"
                  href="https://www.instagram.com/cairo_family_hospital?igsh=bmVicmp4ZXVxYjRy"
                  target="_blank"
                  ><i class="fab fa-instagram"></i
                ></a>
              </div>
            </div>
          </div>
          <!-- Rest of footer content -->
        </div>
      </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="js/main.js"></script>

    <!-- Game Hub JavaScript -->
    <script>
      function showGame(gameId) {
        // Hide main hub
        document.getElementById("main-hub").style.display = "none";

        // Hide all game containers
        document.querySelectorAll(".game-container").forEach((container) => {
          container.classList.remove("active");
        });

        // Show selected game
        document.getElementById(gameId).classList.add("active");
      }

      function showMainHub() {
        // Show main hub
        document.getElementById("main-hub").style.display = "block";

        // Hide all game containers
        document.querySelectorAll(".game-container").forEach((container) => {
          container.classList.remove("active");
        });
      }

      // Initialize - ensure only main hub is visible
      document.addEventListener("DOMContentLoaded", function () {
        showMainHub();
      });

      // Example game data (you can expand this for each game)
      const gameData = {
        "dental-hero": {
          score: 0,
          level: 1,
          health: 100,
        },
        "nutrition-adventure": {
          score: 0,
          level: 1,
          energy: 100,
        },
        // Add data for other games...
      };

      // Nutrition Adventure Game Data
      const nutritionData = {
        score: 0,
        level: 1,
        energy: 100,
        streak: 0,
        currentGame: null,
      };

      const foodGroups = {
        fruits: {
          name: "Fruits",
          icon: "üçé",
          color: "#feca57",
          foods: [
            "Apple",
            "Banana",
            "Orange",
            "Grapes",
            "Strawberry",
            "Mango",
            "Pineapple",
            "Watermelon",
          ],
        },
        vegetables: {
          name: "Vegetables",
          icon: "ü•¶",
          color: "#96ceb4",
          foods: [
            "Carrot",
            "Broccoli",
            "Spinach",
            "Tomato",
            "Cucumber",
            "Bell Pepper",
            "Lettuce",
            "Onion",
          ],
        },
        grains: {
          name: "Grains",
          icon: "üçû",
          color: "#ff9ff3",
          foods: [
            "Bread",
            "Rice",
            "Pasta",
            "Oats",
            "Cereal",
            "Quinoa",
            "Corn",
            "Barley",
          ],
        },
        proteins: {
          name: "Proteins",
          icon: "ü•©",
          color: "#45b7d1",
          foods: [
            "Chicken",
            "Fish",
            "Beef",
            "Eggs",
            "Beans",
            "Nuts",
            "Tofu",
            "Lentils",
          ],
        },
        dairy: {
          name: "Dairy",
          icon: "ü•õ",
          color: "#4ecdc4",
          foods: [
            "Milk",
            "Cheese",
            "Yogurt",
            "Butter",
            "Cream",
            "Ice Cream",
            "Custard",
            "Cottage Cheese",
          ],
        },
        fats: {
          name: "Fats & Sweets",
          icon: "üç∞",
          color: "#ff6b6b",
          foods: [
            "Chocolate",
            "Cake",
            "Cookies",
            "Oil",
            "Butter",
            "Candy",
            "Honey",
            "Syrup",
          ],
        },
      };

      const nutritionQuiz = [
        {
          question:
            "Which food group should make up the largest part of your diet?",
          options: ["Fruits & Vegetables", "Proteins", "Grains", "Dairy"],
          correct: 0,
          explanation:
            "Fruits and vegetables should make up about half of your plate for a balanced meal!",
        },
        {
          question:
            "How many servings of fruits and vegetables should you eat daily?",
          options: [
            "2-3 servings",
            "5-7 servings",
            "8-10 servings",
            "1 serving",
          ],
          correct: 1,
          explanation:
            "Aim for 5-7 servings of fruits and vegetables every day for optimal health!",
        },
        {
          question: "Which of these is a whole grain?",
          options: ["White bread", "White rice", "Brown rice", "Pasta"],
          correct: 2,
          explanation:
            "Brown rice is a whole grain that contains more fiber and nutrients than white rice!",
        },
        {
          question: "What is the main benefit of eating proteins?",
          options: [
            "Energy",
            "Building muscles",
            "Strong bones",
            "Healthy skin",
          ],
          correct: 1,
          explanation:
            "Proteins are essential for building and repairing muscles and tissues in your body!",
        },
        {
          question: "Which vitamin is most abundant in citrus fruits?",
          options: ["Vitamin A", "Vitamin B", "Vitamin C", "Vitamin D"],
          correct: 2,
          explanation:
            "Citrus fruits like oranges and lemons are excellent sources of Vitamin C!",
        },
      ];

      // Nutrition Game Functions
      function startNutritionGame(gameType) {
        nutritionData.currentGame = gameType;
        showNutritionScreen(gameType);

        switch (gameType) {
          case "food-match":
            initFoodMatch();
            break;
          case "meal-builder":
            initMealBuilder();
            break;
          case "pyramid-challenge":
            initPyramidChallenge();
            break;
          case "quiz":
            initNutritionQuiz();
            break;
        }
      }

      function showNutritionScreen(screenName) {
        document
          .querySelectorAll("#nutrition-adventure .game-screen")
          .forEach((screen) => {
            screen.classList.remove("active");
          });
        document.getElementById(screenName).classList.add("active");
      }

      // Food Match Game
      function initFoodMatch() {
        const foodItemsContainer = document.getElementById("foodItems");
        foodItemsContainer.innerHTML = "";

        // Create food items from all groups
        let allFoods = [];
        Object.keys(foodGroups).forEach((group) => {
          foodGroups[group].foods.forEach((food) => {
            allFoods.push({
              name: food,
              group: group,
              icon: getFoodIcon(food),
            });
          });
        });

        // Shuffle and select 10 foods
        allFoods = shuffleArray(allFoods).slice(0, 10);

        allFoods.forEach((food) => {
          const foodElement = document.createElement("div");
          foodElement.className = "food-item";
          foodElement.draggable = true;
          foodElement.innerHTML = `${food.icon}<br><small>${food.name}</small>`;
          foodElement.setAttribute("data-food", food.name);
          foodElement.setAttribute("data-group", food.group);
          foodElement.addEventListener("dragstart", drag);
          foodItemsContainer.appendChild(foodElement);
        });

        // Reset progress
        document.getElementById("matchProgress").style.width = "0%";
        document.getElementById("timer").textContent = "Time: 60s";
        document.getElementById("matches").textContent = "Matches: 0/10";

        // Start timer
        startMatchTimer();
      }

      function allowDrop(ev) {
        ev.preventDefault();
      }

      function drag(ev) {
        ev.dataTransfer.setData(
          "text",
          JSON.stringify({
            food: ev.target.getAttribute("data-food"),
            group: ev.target.getAttribute("data-group"),
          })
        );
      }

      function drop(ev) {
        ev.preventDefault();
        const data = JSON.parse(ev.dataTransfer.getData("text"));
        const targetGroup = ev.target
          .closest(".food-group")
          .getAttribute("data-group");

        if (data.group === targetGroup) {
          // Correct match
          ev.target.innerHTML += `<div class="food-item correct-match">${getFoodIcon(
            data.food
          )} ${data.food}</div>`;
          nutritionData.score += 10;
          nutritionData.streak++;
          showAchievement("Correct! " + getNutritionFact(data.group));
        } else {
          // Incorrect match
          ev.target.innerHTML += `<div class="food-item incorrect-match">${getFoodIcon(
            data.food
          )} ${data.food}</div>`;
          nutritionData.streak = 0;
          showAchievement(
            "Try again! " +
              data.food +
              " belongs to " +
              foodGroups[data.group].name
          );
        }

        updateNutritionStats();
        checkMatchCompletion();
      }

      // Meal Builder Game
      function initMealBuilder() {
        const foodSelection = document.getElementById("foodSelection");
        foodSelection.innerHTML = "";

        Object.keys(foodGroups).forEach((group) => {
          foodGroups[group].foods.forEach((food) => {
            const foodElement = document.createElement("div");
            foodElement.className = "selectable-food";
            foodElement.innerHTML = `${getFoodIcon(
              food
            )}<br><small>${food}</small>`;
            foodElement.setAttribute("data-food", food);
            foodElement.setAttribute("data-group", group);
            foodElement.addEventListener("click", () =>
              selectFood(food, group)
            );
            foodSelection.appendChild(foodElement);
          });
        });

        resetMeal();
      }

      function selectFood(food, group) {
        const selectedContainer = document.getElementById(`selected-${group}`);
        const foodElement = document.createElement("div");
        foodElement.className = "selected-food";
        foodElement.textContent = food;
        foodElement.setAttribute("data-food", food);
        selectedContainer.appendChild(foodElement);
      }

      function checkMealBalance() {
        let score = 0;
        let totalGroups = 0;

        Object.keys(foodGroups).forEach((group) => {
          const selectedCount = document.getElementById(`selected-${group}`)
            .children.length;
          if (selectedCount > 0) {
            score += 20; // 20 points per food group represented
            totalGroups++;
          }
        });

        // Bonus for having fruits and vegetables
        const fruitsCount =
          document.getElementById("selected-fruits").children.length;
        const veggiesCount = document.getElementById("selected-vegetables")
          .children.length;
        if (fruitsCount > 0 && veggiesCount > 0) {
          score += 20;
        }

        const balanceScore = Math.min(100, score);
        document.getElementById("balanceScore").textContent =
          balanceScore + "%";
        document.getElementById("balanceProgress").style.width =
          balanceScore + "%";

        if (balanceScore >= 80) {
          showAchievement("Excellent! You built a very balanced meal!");
          nutritionData.score += 50;
        } else if (balanceScore >= 60) {
          showAchievement("Good job! Your meal is fairly balanced.");
          nutritionData.score += 30;
        } else {
          showAchievement(
            "Keep trying! Add more food groups for better balance."
          );
        }

        updateNutritionStats();
      }

      function resetMeal() {
        Object.keys(foodGroups).forEach((group) => {
          document.getElementById(`selected-${group}`).innerHTML = "";
        });
        document.getElementById("balanceScore").textContent = "0%";
        document.getElementById("balanceProgress").style.width = "0%";
      }

      // Pyramid Challenge Game
      function initPyramidChallenge() {
        const pyramidFoods = document.getElementById("pyramidFoods");
        pyramidFoods.innerHTML = "";

        let allFoods = [];
        Object.keys(foodGroups).forEach((group) => {
          foodGroups[group].foods.slice(0, 3).forEach((food) => {
            allFoods.push({
              name: food,
              group: group,
              icon: getFoodIcon(food),
            });
          });
        });

        allFoods = shuffleArray(allFoods);

        allFoods.forEach((food) => {
          const foodElement = document.createElement("div");
          foodElement.className = "pyramid-food";
          foodElement.innerHTML = `${food.icon}<br><small>${food.name}</small>`;
          foodElement.setAttribute("data-food", food.name);
          foodElement.setAttribute("data-group", food.group);
          foodElement.addEventListener("click", () =>
            placeInPyramid(foodElement)
          );
          pyramidFoods.appendChild(foodElement);
        });
      }

      // Nutrition Quiz
      function initNutritionQuiz() {
        nutritionData.currentQuiz = 0;
        loadNutritionQuestion();
      }

      function loadNutritionQuestion() {
        const currentQ = nutritionQuiz[nutritionData.currentQuiz];
        document.getElementById("quizQuestion").textContent = currentQ.question;

        const optionsContainer = document.getElementById("quizOptions");
        optionsContainer.innerHTML = currentQ.options
          .map(
            (option, index) =>
              `<div class="quiz-option" onclick="answerNutritionQuiz(${index})">${option}</div>`
          )
          .join("");

        document.getElementById("currentQuestion").textContent =
          nutritionData.currentQuiz + 1;
        document.getElementById("totalQuestions").textContent =
          nutritionQuiz.length;
        document.getElementById("quizProgress").style.width =
          (nutritionData.currentQuiz / nutritionQuiz.length) * 100 + "%";
      }

      function answerNutritionQuiz(selectedIndex) {
        const currentQ = nutritionQuiz[nutritionData.currentQuiz];
        const options = document.querySelectorAll("#quizOptions .quiz-option");
        const feedback = document.getElementById("quizFeedback");

        options.forEach((option, index) => {
          option.style.pointerEvents = "none";
          if (index === currentQ.correct) {
            option.classList.add("correct");
          } else if (index === selectedIndex && index !== currentQ.correct) {
            option.classList.add("wrong");
          }
        });

        if (selectedIndex === currentQ.correct) {
          feedback.innerHTML = `<div class="achievement">Correct! ${currentQ.explanation}</div>`;
          nutritionData.score += 20;
          nutritionData.streak++;
        } else {
          feedback.innerHTML = `<div style="background: #ffebee; padding: 15px; border-radius: 10px;">
                    Incorrect. ${currentQ.explanation}
                </div>`;
          nutritionData.streak = 0;
        }

        updateNutritionStats();

        setTimeout(() => {
          nutritionData.currentQuiz++;
          if (nutritionData.currentQuiz < nutritionQuiz.length) {
            loadNutritionQuestion();
          } else {
            showAchievement("Quiz Complete! You're a nutrition expert!");
            showNutritionScreen("nutrition-menu");
          }
        }, 3000);
      }

      // Utility Functions
      function getFoodIcon(food) {
        const iconMap = {
          Apple: "üçé",
          Banana: "üçå",
          Orange: "üçä",
          Grapes: "üçá",
          Strawberry: "üçì",
          Mango: "ü•≠",
          Pineapple: "üçç",
          Watermelon: "üçâ",
          Carrot: "ü•ï",
          Broccoli: "ü•¶",
          Spinach: "üçÉ",
          Tomato: "üçÖ",
          Cucumber: "ü•í",
          "Bell Pepper": "ü´ë",
          Lettuce: "ü•¨",
          Onion: "üßÖ",
          Bread: "üçû",
          Rice: "üçö",
          Pasta: "üçù",
          Oats: "üåæ",
          Cereal: "ü•£",
          Quinoa: "üåæ",
          Corn: "üåΩ",
          Barley: "üåæ",
          Chicken: "üçó",
          Fish: "üêü",
          Beef: "ü•©",
          Eggs: "ü•ö",
          Beans: "ü´ò",
          Nuts: "ü•ú",
          Tofu: "üßà",
          Lentils: "ü´ò",
          Milk: "ü•õ",
          Cheese: "üßÄ",
          Yogurt: "ü•õ",
          Butter: "üßà",
          Cream: "üç¶",
          "Ice Cream": "üç®",
          Custard: "üçÆ",
          "Cottage Cheese": "üßÄ",
          Chocolate: "üç´",
          Cake: "üç∞",
          Cookies: "üç™",
          Oil: "ü´í",
          Candy: "üç¨",
          Honey: "üçØ",
          Syrup: "üçØ",
        };
        return iconMap[food] || "üçΩÔ∏è";
      }

      function getNutritionFact(group) {
        const facts = {
          fruits: "Fruits are rich in vitamins and fiber!",
          vegetables: "Vegetables provide essential nutrients!",
          grains: "Grains give you energy throughout the day!",
          proteins: "Proteins help build strong muscles!",
          dairy: "Dairy products support bone health!",
          fats: "Fats should be eaten in moderation!",
        };
        return facts[group] || "Great choice for a balanced diet!";
      }

      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function updateNutritionStats() {
        document.getElementById("nutrition-score").textContent =
          nutritionData.score;
        document.getElementById("nutrition-level").textContent =
          nutritionData.level;
        document.getElementById("nutrition-energy").textContent =
          nutritionData.energy;
        document.getElementById("nutrition-streak").textContent =
          nutritionData.streak;

        // Level up logic
        if (nutritionData.score >= nutritionData.level * 100) {
          nutritionData.level++;
          nutritionData.energy = 100;
          showAchievement(`Level Up! You're now level ${nutritionData.level}!`);
        }
      }

      function showAchievement(message) {
        const achievement = document.createElement("div");
        achievement.className = "achievement";
        achievement.textContent = message;

        const activeScreen = document.querySelector(
          "#nutrition-adventure .game-screen.active"
        );
        if (activeScreen) {
          activeScreen.appendChild(achievement);

          setTimeout(() => {
            achievement.remove();
          }, 3000);
        }
      }

      // First Aid Hero Game Data
      const firstAidData = {
        score: 0,
        level: 1,
        lives: 3,
        saved: 0,
        currentScenario: 0,
      };

      const emergencyScenarios = [
        {
          title: "Cuts and Scrapes",
          description:
            "A child fell and has a bleeding cut on their knee. What's the first thing you should do?",
          icon: "ü©∏",
          options: [
            "Apply pressure to stop bleeding",
            "Pour water on it immediately",
            "Ignore it and let it stop on its own",
            "Put ice directly on the cut",
          ],
          correct: 0,
          explanation:
            "First, apply gentle pressure with a clean cloth to stop the bleeding before cleaning the wound.",
        },
        {
          title: "Choking Emergency",
          description:
            "Someone is choking and cannot breathe. They're conscious but cannot speak. What should you do?",
          icon: "üòµ",
          options: [
            "Perform the Heimlich maneuver",
            "Give them water to drink",
            "Pat them gently on the back",
            "Wait to see if it passes",
          ],
          correct: 0,
          explanation:
            "For conscious choking victims, perform abdominal thrusts (Heimlich maneuver) immediately.",
        },
        {
          title: "Burn Treatment",
          description:
            "Someone spilled hot water on their hand and has a red, painful burn. What's the proper first aid?",
          icon: "üî•",
          options: [
            "Run cool water over it for 10-20 minutes",
            "Apply butter or oil to the burn",
            "Break any blisters that form",
            "Put ice directly on the burn",
          ],
          correct: 0,
          explanation:
            "Cool running water helps reduce skin temperature and prevents further damage. Avoid ice and oils.",
        },
      ];

      // Hygiene Defender Game Data
      const hygieneData = {
        score: 0,
        level: 1,
        health: 100,
        germsEliminated: 0,
        soapCount: 3,
      };

      const germTypes = [
        { type: "virus", icon: "ü¶†", speed: 3, points: 10 },
        { type: "bacteria", icon: "üß´", speed: 2, points: 15 },
        { type: "fungus", icon: "üçÑ", speed: 1, points: 20 },
      ];

      // Fitness Challenge Game Data
      const fitnessData = {
        score: 0,
        level: 1,
        energy: 100,
        workoutsCompleted: 0,
      };

      const exercises = [
        {
          name: "Jumping Jacks",
          icon: "üßç‚Äç‚ôÇÔ∏è‚Üíüë®‚ÄçüöÄ",
          steps: [
            "Stand with feet together and arms at sides",
            "Jump while spreading legs and raising arms overhead",
            "Return to starting position",
            "Repeat rhythmically for 30 seconds",
          ],
          benefits: [
            "Improves cardiovascular health",
            "Strengthens legs and core muscles",
            "Burns calories effectively",
            "Improves coordination and balance",
          ],
          duration: "30 seconds",
          calories: "5-8 per minute",
          difficulty: "Beginner",
        },
        {
          name: "Push-Ups",
          icon: "‚¨áÔ∏èüí™‚¨ÜÔ∏è",
          steps: [
            "Start in plank position with hands under shoulders",
            "Lower body until chest nearly touches floor",
            "Keep back straight and core engaged",
            "Push back up to starting position",
          ],
          benefits: [
            "Strengthens chest, shoulders, and arms",
            "Improves core stability",
            "Builds upper body strength",
            "No equipment needed",
          ],
          duration: "10-15 repetitions",
          calories: "4-6 per minute",
          difficulty: "Intermediate",
        },
      ];

      // Mindful Moments Game Data
      const mindfulData = {
        score: 0,
        level: 1,
        calm: 100,
        sessionsCompleted: 0,
        currentExercise: 0,
      };

      // First Aid Game Functions
      function startFirstAidGame(gameType) {
        showFirstAidScreen(gameType);

        switch (gameType) {
          case "emergency-scenarios":
            loadEmergencyScenario();
            break;
          case "cpr-training":
            setupCPRTraining();
            break;
        }
      }

      function showFirstAidScreen(screenName) {
        document
          .querySelectorAll("#first-aid .game-screen")
          .forEach((screen) => {
            screen.classList.remove("active");
          });
        document.getElementById(screenName).classList.add("active");
      }

      function loadEmergencyScenario() {
        const scenario = emergencyScenarios[firstAidData.currentScenario];
        document.getElementById("scenarioTitle").textContent = scenario.title;
        document.getElementById("scenarioDesc").textContent =
          scenario.description;
        document.getElementById("scenarioImage").innerHTML = scenario.icon;

        const optionsContainer = document.getElementById("responseOptions");
        optionsContainer.innerHTML = scenario.options
          .map(
            (option, index) =>
              `<div class="response-option" onclick="checkScenarioAnswer(${index})">${option}</div>`
          )
          .join("");

        document.getElementById("currentScenario").textContent =
          firstAidData.currentScenario + 1;
        document.getElementById("totalScenarios").textContent =
          emergencyScenarios.length;
        document.getElementById("scenarioProgress").style.width =
          (firstAidData.currentScenario / emergencyScenarios.length) * 100 +
          "%";
      }

      function checkScenarioAnswer(selectedIndex) {
        const scenario = emergencyScenarios[firstAidData.currentScenario];
        const options = document.querySelectorAll(
          "#responseOptions .response-option"
        );
        const feedback = document.getElementById("scenarioFeedback");

        options.forEach((option, index) => {
          option.style.pointerEvents = "none";
          if (index === scenario.correct) {
            option.classList.add("correct");
          } else if (index === selectedIndex && index !== scenario.correct) {
            option.classList.add("incorrect");
          }
        });

        if (selectedIndex === scenario.correct) {
          feedback.innerHTML = `<div class="achievement">Correct! ${scenario.explanation}</div>`;
          firstAidData.score += 20;
          firstAidData.saved++;
        } else {
          feedback.innerHTML = `<div style="background: #ffebee; padding: 15px; border-radius: 10px;">
                    Incorrect. ${scenario.explanation}
                </div>`;
          firstAidData.lives--;
        }

        updateFirstAidStats();

        setTimeout(() => {
          firstAidData.currentScenario++;
          if (
            firstAidData.currentScenario < emergencyScenarios.length &&
            firstAidData.lives > 0
          ) {
            loadEmergencyScenario();
          } else {
            if (firstAidData.lives > 0) {
              showAchievement("Scenario Complete! You're a first aid hero!");
            } else {
              showAchievement("Game Over! Practice more to save more lives!");
            }
            showFirstAidScreen("firstaid-menu");
          }
        }, 3000);
      }

      // Hygiene Defender Functions
      function startHygieneGame(gameType) {
        showHygieneScreen(gameType);

        if (gameType === "germ-invasion") {
          resetGermGame();
        }
      }

      function showHygieneScreen(screenName) {
        document
          .querySelectorAll("#hygiene-defender .game-screen")
          .forEach((screen) => {
            screen.classList.remove("active");
          });
        document.getElementById(screenName).classList.add("active");
      }

      function startGermInvasion() {
        document.getElementById("startGermGame").style.display = "none";
        hygieneData.health = 100;
        hygieneData.germsEliminated = 0;
        hygieneData.soapCount = 3;
        updateHygieneStats();

        startGermSpawning();
      }

      function startGermSpawning() {
        const gameArea = document.getElementById("germInvasionArea");

        const spawnInterval = setInterval(() => {
          if (hygieneData.health <= 0) {
            clearInterval(spawnInterval);
            showAchievement("Game Over! Your health reached zero.");
            return;
          }

          const germType =
            germTypes[Math.floor(Math.random() * germTypes.length)];
          const germ = document.createElement("div");
          germ.className = `germ ${germType.type}`;
          germ.innerHTML = germType.icon;
          germ.style.left = Math.random() * 80 + "%";
          germ.style.top = "-50px";

          germ.addEventListener("click", () => eliminateGerm(germ, germType));

          gameArea.appendChild(germ);

          // Animate germ falling
          let position = -50;
          const fallInterval = setInterval(() => {
            position += germType.speed;
            germ.style.top = position + "px";

            if (position > 350) {
              clearInterval(fallInterval);
              germ.remove();
              hygieneData.health -= 10;
              updateHygieneStats();

              if (hygieneData.health <= 0) {
                clearInterval(spawnInterval);
                showAchievement("Game Over! Too many germs reached you.");
              }
            }
          }, 50);
        }, 2000);
      }

      function eliminateGerm(germ, germType) {
        germ.remove();
        hygieneData.score += germType.points;
        hygieneData.germsEliminated++;
        updateHygieneStats();

        showAchievement(`Germ eliminated! +${germType.points} points`);
      }

      function useSoap() {
        if (hygieneData.soapCount > 0) {
          hygieneData.soapCount--;
          // Create soap bubble effect that eliminates all visible germs
          const germs = document.querySelectorAll(".germ");
          germs.forEach((germ) => {
            hygieneData.score += 5;
            germ.remove();
          });
          hygieneData.germsEliminated += germs.length;
          updateHygieneStats();
          showAchievement("Soap power-up used! All germs eliminated!");
        }
      }

      // Fitness Challenge Functions
      function startFitnessGame(gameType) {
        showFitnessScreen(gameType);

        if (gameType === "exercise-guide") {
          loadExercise(0);
        }
      }

      function showFitnessScreen(screenName) {
        document
          .querySelectorAll("#fitness-challenge .game-screen")
          .forEach((screen) => {
            screen.classList.remove("active");
          });
        document.getElementById(screenName).classList.add("active");
      }

      let currentExerciseIndex = 0;

      function loadExercise(index) {
        const exercise = exercises[index];
        document.getElementById("exerciseName").textContent = exercise.name;
        document.getElementById("exerciseAnimation").innerHTML = exercise.icon;

        const stepsList = document.getElementById("exerciseSteps");
        stepsList.innerHTML = exercise.steps
          .map((step) => `<li>${step}</li>`)
          .join("");

        const benefitsList = document.getElementById("exerciseBenefits");
        benefitsList.innerHTML = exercise.benefits
          .map((benefit) => `<li>${benefit}</li>`)
          .join("");

        document.getElementById("exerciseDuration").textContent =
          exercise.duration;
        document.getElementById("exerciseCalories").textContent =
          exercise.calories;
        document.getElementById("exerciseDifficulty").textContent =
          exercise.difficulty;

        currentExerciseIndex = index;
      }

      function nextExercise() {
        currentExerciseIndex = (currentExerciseIndex + 1) % exercises.length;
        loadExercise(currentExerciseIndex);
      }

      function previousExercise() {
        currentExerciseIndex =
          (currentExerciseIndex - 1 + exercises.length) % exercises.length;
        loadExercise(currentExerciseIndex);
      }

      function tryExercise() {
        showAchievement(
          "Great! Practice this exercise regularly for best results!"
        );
        fitnessData.score += 10;
        fitnessData.workoutsCompleted++;
        updateFitnessStats();
      }

      // Mindful Moments Functions
      function startMindfulGame(gameType) {
        showMindfulScreen(gameType);

        if (gameType === "breathing-exercise") {
          setupBreathingExercise();
        }
      }

      function showMindfulScreen(screenName) {
        document
          .querySelectorAll("#mindful-moments .game-screen")
          .forEach((screen) => {
            screen.classList.remove("active");
          });
        document.getElementById(screenName).classList.add("active");
      }

      function setupBreathingExercise() {
        document.getElementById("startBreathing").style.display = "block";
        document.getElementById("nextBreath").style.display = "none";
        document.getElementById("breathCycle").textContent = "1";
        document.getElementById("heartRate").textContent = "72";
        document.getElementById("calmLevel").textContent = "50%";
      }

      let breathPhase = 0;
      let currentCycle = 1;

      function startBreathingExercise() {
        document.getElementById("startBreathing").style.display = "none";
        document.getElementById("nextBreath").style.display = "block";
        nextBreathPhase();
      }

      function nextBreathPhase() {
        const phases = [
          {
            text: "Breathe In",
            instruction: "Take a slow, deep breath in through your nose...",
            duration: 4000,
          },
          {
            text: "Hold",
            instruction: "Hold your breath for a moment...",
            duration: 2000,
          },
          {
            text: "Breathe Out",
            instruction: "Slowly exhale through your mouth...",
            duration: 6000,
          },
          {
            text: "Hold",
            instruction: "Pause before your next breath...",
            duration: 2000,
          },
        ];

        const phase = phases[breathPhase];
        document.getElementById("breathingText").textContent = phase.text;
        document.getElementById("breathInstruction").textContent =
          phase.instruction;

        // Update stats
        let heartRate = 72 - currentCycle * 2;
        let calmLevel = 50 + currentCycle * 10;
        document.getElementById("heartRate").textContent = Math.max(
          60,
          heartRate
        );
        document.getElementById("calmLevel").textContent =
          Math.min(100, calmLevel) + "%";

        breathPhase = (breathPhase + 1) % phases.length;

        if (breathPhase === 0) {
          currentCycle++;
          document.getElementById("breathCycle").textContent = currentCycle;

          if (currentCycle > 5) {
            showAchievement(
              "Breathing exercise complete! You should feel more relaxed."
            );
            mindfulData.score += 30;
            mindfulData.sessionsCompleted++;
            mindfulData.calm = Math.min(100, mindfulData.calm + 20);
            updateMindfulStats();
            showMindfulScreen("mindful-menu");
            return;
          }
        }
      }

      // Update Stats Functions
      function updateFirstAidStats() {
        document.getElementById("firstaid-score").textContent =
          firstAidData.score;
        document.getElementById("firstaid-level").textContent =
          firstAidData.level;
        document.getElementById("firstaid-lives").textContent =
          firstAidData.lives;
        document.getElementById("firstaid-saved").textContent =
          firstAidData.saved;

        if (firstAidData.score >= firstAidData.level * 100) {
          firstAidData.level++;
          showAchievement(
            `First Aid Level Up! You're now level ${firstAidData.level}`
          );
        }
      }

      function updateHygieneStats() {
        document.getElementById("hygiene-score").textContent =
          hygieneData.score;
        document.getElementById("hygiene-level").textContent =
          hygieneData.level;
        document.getElementById("hygiene-health").textContent =
          hygieneData.health;
        document.getElementById("germs-eliminated").textContent =
          hygieneData.germsEliminated;
        document.getElementById("currentHealth").textContent =
          hygieneData.health + "%";
        document.getElementById("soapCount").textContent =
          hygieneData.soapCount;

        if (hygieneData.score >= hygieneData.level * 150) {
          hygieneData.level++;
          hygieneData.soapCount += 2;
          showAchievement(
            `Hygiene Level Up! You received 2 extra soap power-ups!`
          );
        }
      }

      function updateFitnessStats() {
        document.getElementById("fitness-score").textContent =
          fitnessData.score;
        document.getElementById("fitness-level").textContent =
          fitnessData.level;
        document.getElementById("fitness-energy").textContent =
          fitnessData.energy;
        document.getElementById("workouts-completed").textContent =
          fitnessData.workoutsCompleted;

        if (fitnessData.score >= fitnessData.level * 80) {
          fitnessData.level++;
          fitnessData.energy = 100;
          showAchievement(
            `Fitness Level Up! You're now level ${fitnessData.level}`
          );
        }
      }

      function updateMindfulStats() {
        document.getElementById("mindful-score").textContent =
          mindfulData.score;
        document.getElementById("mindful-level").textContent =
          mindfulData.level;
        document.getElementById("mindful-calm").textContent = mindfulData.calm;
        document.getElementById("sessions-completed").textContent =
          mindfulData.sessionsCompleted;

        if (mindfulData.score >= mindfulData.level * 60) {
          mindfulData.level++;
          mindfulData.calm = 100;
          showAchievement(
            `Mindfulness Level Up! You're now level ${mindfulData.level}`
          );
        }
      }

      // Dental Hero Game Data
      const dentalGameState = {
        score: 0,
        level: 1,
        health: 100,
        achievements: 0,
        currentQuiz: 0,
        patientCount: 1,
      };

      // Quiz Questions
      const dentalQuizQuestions = [
        {
          question: "How many times should you brush your teeth daily?",
          options: ["Once", "Twice", "Three times", "Only when dirty"],
          correct: 1,
          explanation:
            "Brushing twice daily helps remove plaque and prevent cavities!",
        },
        {
          question: "What's the main cause of tooth decay?",
          options: ["Sugar", "Bacteria", "Age", "Genetics"],
          correct: 1,
          explanation:
            "Bacteria in your mouth feed on sugar and produce acid that damages teeth.",
        },
        {
          question: "How long should you brush your teeth?",
          options: ["30 seconds", "1 minute", "2 minutes", "5 minutes"],
          correct: 2,
          explanation:
            "2 minutes ensures thorough cleaning of all tooth surfaces!",
        },
        {
          question: "What's the best way to prevent gum disease?",
          options: [
            "Avoid cold drinks",
            "Floss daily",
            "Eat more candy",
            "Brush once a week",
          ],
          correct: 1,
          explanation:
            "Daily flossing removes plaque between teeth where your toothbrush can't reach!",
        },
        {
          question: "When should you replace your toothbrush?",
          options: [
            "Every year",
            "Every 6 months",
            "Every 3 months",
            "When it breaks",
          ],
          correct: 2,
          explanation:
            "Every 3 months or after being sick - old brushes become less effective!",
        },
      ];

      // Patient Cases
      const dentalPatientCases = [
        {
          complaint: "My tooth hurts when I eat sweets...",
          options: ["Cavity", "Sensitivity", "Gum disease", "Normal"],
          correct: 0,
          treatment: "Fill the cavity and recommend less sugar intake",
        },
        {
          complaint: "My gums bleed when I brush...",
          options: ["Cavity", "Broken tooth", "Gingivitis", "Nothing wrong"],
          correct: 2,
          treatment: "Deep cleaning and improved oral hygiene routine",
        },
        {
          complaint: "I have bad breath that won't go away...",
          options: ["Cavity", "Gum disease", "Dry mouth", "All possible"],
          correct: 3,
          treatment: "Comprehensive examination to identify the root cause",
        },
      ];

      // Dental Game Functions
      function startDentalGame(gameType) {
        showDentalScreen(gameType);

        switch (gameType) {
          case "battle":
            initBattleGame();
            break;
          case "quiz":
            initQuizGame();
            break;
          case "clinic":
            initClinicGame();
            break;
          case "makeover":
            // Makeover game is already set up in HTML
            break;
        }
      }

      function showDentalScreen(screenName) {
        document
          .querySelectorAll("#dental-hero .game-screen")
          .forEach((screen) => {
            screen.classList.remove("active");
          });
        document.getElementById(screenName).classList.add("active");
      }

      function updateDentalStats() {
        document.getElementById("dental-score").textContent =
          dentalGameState.score;
        document.getElementById("dental-level").textContent =
          dentalGameState.level;
        document.getElementById("dental-health").textContent =
          dentalGameState.health;
        document.getElementById("dental-achievements").textContent =
          dentalGameState.achievements;
      }

      function initBattleGame() {
        const toothGrid = document.getElementById("toothGrid");
        const battleArea = document.getElementById("battleArea");

        // Create tooth grid
        toothGrid.innerHTML = "";
        for (let i = 0; i < 16; i++) {
          const tooth = document.createElement("div");
          tooth.className = "tooth healthy";
          tooth.innerHTML = "üòÅ";
          tooth.onclick = () => healTooth(tooth);
          toothGrid.appendChild(tooth);
        }

        // Start spawning enemies
        spawnEnemies();

        // Update progress
        let progress = 0;
        const progressInterval = setInterval(() => {
          progress += 2;
          document.getElementById("battleProgress").style.width =
            progress + "%";

          if (progress >= 100) {
            clearInterval(progressInterval);
            winBattle();
          }
        }, 200);
      }

      function spawnEnemies() {
        const battleArea = document.getElementById("battleArea");

        setInterval(() => {
          if (document.getElementById("battle").classList.contains("active")) {
            const enemy = document.createElement("div");
            enemy.className = "enemy";
            enemy.innerHTML = Math.random() > 0.5 ? "ü¶†" : "üü§";
            enemy.style.left = Math.random() * 80 + "%";
            enemy.style.top = Math.random() * 60 + "%";
            enemy.onclick = () => destroyEnemy(enemy);

            battleArea.appendChild(enemy);

            // Remove enemy after 3 seconds if not clicked
            setTimeout(() => {
              if (enemy.parentNode) {
                enemy.remove();
                damageRandomTooth();
              }
            }, 3000);
          }
        }, 1500);
      }

      function destroyEnemy(enemy) {
        enemy.remove();
        dentalGameState.score += 10;
        updateDentalStats();

        // Add achievement
        if (dentalGameState.score % 100 === 0) {
          showDentalAchievement("Enemy Slayer! 100 points earned!");
          dentalGameState.achievements++;
        }
      }

      function damageRandomTooth() {
        const teeth = document.querySelectorAll(".tooth.healthy");
        if (teeth.length > 0) {
          const randomTooth = teeth[Math.floor(Math.random() * teeth.length)];
          randomTooth.className = "tooth cavity";
          randomTooth.innerHTML = "üò∞";
          dentalGameState.health -= 5;
          updateDentalStats();
        }
      }

      function healTooth(tooth) {
        if (tooth.classList.contains("cavity")) {
          tooth.className = "tooth healthy";
          tooth.innerHTML = "üòÅ";
          dentalGameState.score += 5;
          dentalGameState.health = Math.min(100, dentalGameState.health + 2);
          updateDentalStats();
        }
      }

      function winBattle() {
        showDentalAchievement("Battle Won! You've protected your teeth!");
        dentalGameState.level++;
        dentalGameState.achievements++;
        dentalGameState.score += 50;
        updateDentalStats();
      }

      function initQuizGame() {
        loadQuizQuestion();
      }

      function loadQuizQuestion() {
        const quizContent = document.getElementById("quizContent");
        const currentQ =
          dentalQuizQuestions[
            dentalGameState.currentQuiz % dentalQuizQuestions.length
          ];

        quizContent.innerHTML = `
                <div style="text-align: center;">
                    <h3>Question ${dentalGameState.currentQuiz + 1}</h3>
                    <p style="font-size: 1.2em; margin: 30px 0;">${
                      currentQ.question
                    }</p>
                    <div class="quiz-options" id="quizOptions">
                        ${currentQ.options
                          .map(
                            (option, index) =>
                              `<div class="quiz-option" onclick="answerDentalQuiz(${index})">${option}</div>`
                          )
                          .join("")}
                    </div>
                    <div id="quizResult" style="margin-top: 20px;"></div>
                </div>
            `;
      }

      function answerDentalQuiz(selectedIndex) {
        const currentQ =
          dentalQuizQuestions[
            dentalGameState.currentQuiz % dentalQuizQuestions.length
          ];
        const options = document.querySelectorAll("#quizOptions .quiz-option");
        const result = document.getElementById("quizResult");

        options.forEach((option, index) => {
          option.style.pointerEvents = "none";
          if (index === currentQ.correct) {
            option.classList.add("correct");
          } else if (index === selectedIndex && index !== currentQ.correct) {
            option.classList.add("wrong");
          }
        });

        if (selectedIndex === currentQ.correct) {
          result.innerHTML = `<div class="achievement">Correct! ${currentQ.explanation}</div>`;
          dentalGameState.score += 20;
          dentalGameState.achievements++;
        } else {
          result.innerHTML = `<div style="background: #ffebee; padding: 15px; border-radius: 10px; margin: 10px 0;">
                    Incorrect. ${currentQ.explanation}
                </div>`;
        }

        updateDentalStats();

        setTimeout(() => {
          dentalGameState.currentQuiz++;
          loadQuizQuestion();
        }, 3000);
      }

      function initClinicGame() {
        loadPatientCase();
      }

      function loadPatientCase() {
        const currentCase =
          dentalPatientCases[
            dentalGameState.patientCount % dentalPatientCases.length
          ];
        document.getElementById("patientNumber").textContent =
          dentalGameState.patientCount;
        document.getElementById("patientComplaint").textContent =
          currentCase.complaint;

        const diagnosisOptions = document.getElementById("diagnosisOptions");
        diagnosisOptions.innerHTML = currentCase.options
          .map(
            (option, index) =>
              `<div class="quiz-option" onclick="diagnosePatient(${index})">${option}</div>`
          )
          .join("");
      }

      function diagnosePatient(diagnosisIndex) {
        const currentCase =
          dentalPatientCases[
            dentalGameState.patientCount % dentalPatientCases.length
          ];
        const options = document.querySelectorAll(
          "#diagnosisOptions .quiz-option"
        );

        options.forEach((option, index) => {
          option.style.pointerEvents = "none";
          if (index === currentCase.correct) {
            option.classList.add("correct");
          } else if (
            index === diagnosisIndex &&
            index !== currentCase.correct
          ) {
            option.classList.add("wrong");
          }
        });

        setTimeout(() => {
          if (diagnosisIndex === currentCase.correct) {
            showDentalAchievement(
              `Excellent diagnosis! Treatment: ${currentCase.treatment}`
            );
            dentalGameState.score += 30;
            dentalGameState.achievements++;
          } else {
            showDentalAchievement(
              `Good try! Correct treatment: ${currentCase.treatment}`
            );
          }

          dentalGameState.patientCount++;
          updateDentalStats();

          setTimeout(() => {
            loadPatientCase();
          }, 2000);
        }, 1000);
      }

      function selectTreatment(treatment) {
        const treatments = {
          braces: "Great choice! Braces will straighten those teeth perfectly!",
          whitening: "Excellent! Whitening will restore that bright smile!",
          cleaning: "Perfect! Deep cleaning removes harmful plaque buildup!",
          crown: "Smart choice! A crown will protect and restore the tooth!",
        };

        showDentalAchievement(treatments[treatment]);
        dentalGameState.score += 25;
        dentalGameState.achievements++;
        updateDentalStats();
      }

      function showDentalAchievement(message) {
        const achievement = document.createElement("div");
        achievement.className = "achievement";
        achievement.textContent = message;

        const activeScreen = document.querySelector(
          "#dental-hero .game-screen.active .game-area"
        );
        if (activeScreen) {
          activeScreen.appendChild(achievement);

          setTimeout(() => {
            achievement.remove();
          }, 3000);
        }
      }

      function bookDentalAppointment() {
        alert(
          "üéâ Congratulations on completing Dental Hero Academy!\n\n" +
            "Ready to take the next step? Contact Cairo Family Hospital:\n" +
            "üìû Call: +254 758 833 863\n" +
            "üåê Visit: Cairo Family Hospital, Ruiru\n" +
            "üìß Email: info@cairofamilyhospital.co.ke\n\n" +
            "Mention this game for a special discount on your first dental visit!"
        );
      }

      // Initialize dental game
      updateDentalStats();

      // Auto-save progress
      setInterval(() => {
        localStorage.setItem(
          "dentalHeroProgress",
          JSON.stringify(dentalGameState)
        );
      }, 30000);

      // Load saved progress
      const savedDentalProgress = localStorage.getItem("dentalHeroProgress");
      if (savedDentalProgress) {
        Object.assign(dentalGameState, JSON.parse(savedDentalProgress));
        updateDentalStats();
      }
    </script>
  </body>
</html>
